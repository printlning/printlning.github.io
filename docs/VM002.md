---
layout: default
title: CentOS 7 설치
parent: VM
nav_order: 2
---

# CentOS 7 설치
***
<br/>

[저번 글](https://printlning.github.io/docs/VM001.html)에서 칼리 리눅스를 설치했었습니다. 이제 칼리 리눅스로 공격할 CentOS를 설치해보겠습니다.
CentOS 7의 지원이 종료되면서 Rocky Linux, Alma Linux 등을 사용하기도 하지만, 여기서는 CentOS 7을 사용하도록 하겠습니다. 

## ISO 파일 준비

![](https://i.imgur.com/2mYL3aP.png)
[centos.org](https://www.centos.org/)에 접속합니다. 2024년 5월 기준으로는 위와 같은 화면이 나오는데요. CentOS Linux를 선택합니다. CentOS 8 혹은 9를 다운받으려면 CentOS Stream에 들어가면 됩니다.

<br/>
<br/>
<br/>

![](https://i.imgur.com/DZjKiIk.png)
본인 컴퓨터에 맞게 선택해주세요. 저는 x86_64으로 했습니다.

<br/>
<br/>
<br/>

![](https://i.imgur.com/OwpvTDq.png)
아무 데나 들어가줍니다.

<br/>
<br/>
<br/>

![](https://i.imgur.com/N5kayCP.png)
CentOS-7-x86_64-DVD-2009.iso 또는 CentOS-7-x86_64-DVD-2207-02.iso 파일을 다운받아주세요.

<br/>
<br/>
<br/>

## 설치

![](https://i.imgur.com/Z6MqRUS.png)
Typical과 I will install the operating system later. 를 선택합니다.

<br/>
<br/>
<br/>

![](https://i.imgur.com/QEbqlAF.png)
CentOS 7을 선택하고, 이름과 저장경로를 결정합니다.

<br/>
<br/>
<br/>

![](https://i.imgur.com/7NrbIhT.png)
![](https://i.imgur.com/qihfl4j.png)
저는 40GB를 할당했는데 원하는 만큼 해주시고 Store virtual disk as a single file을 선택해주세요. 그리고 Customize Hardware... 에 들어가서 메모리, 프로세서를 설정하고 ISO 파일을 넣어주세요.

<br/>
<br/>
<br/>

![](https://i.imgur.com/byfs4Tj.png)
Install CentOS 7 선택 후 한국어로 설정해주세요.

<br/>
<br/>
<br/>

![](https://i.imgur.com/3ZrG8Nz.png)
![](https://i.imgur.com/EtmkFFE.png)
설치 요약 화면으로 넘어오셨으면 먼저 설치 대상에 들어갔다가 나와주세요. 들어가면 기본적으로 선택이 되어있기 때문에 따로 건드릴 부분 없이 완료를 눌러 나와도 됩니다. 그리고 소프트웨어 선택에서 GNOME 데스크탑, 네트워크 및 호스트명에서 이더넷 켬 설정을 해주세요.

<br/>
<br/>
<br/>

![](https://i.imgur.com/dO6VLs7.png)
![](https://i.imgur.com/Fw8HR2I.png)
설치를 기다리면서 ROOT 암호를 설정하고 사용자를 생성해주세요. 저처럼 약한 비밀번호는 완료를 두 번 눌러서 생성해주세요. 다운이 완료되면 라이센스에 동의해서 설정을 완료합니다.


## 설정
### IP 고정
![](https://i.imgur.com/Sc0qrZX.png)
```shell
vi /etc/sysconfig/network-scripts/ifcfg-ens33
```
IP 설정을 위해 ifcfg-ens33 파일을 수정합니다.

<br/>
<br/>
<br/>

![](https://i.imgur.com/bHdls1A.png)
```shell
BOOTPROTO="static"
IPADDR="192.168.10.50"
NETMASK="255.255.255.0"
GATEWAY="192.168.10.2"
DNS1="168.126.63.1"
```
IP는 원하는 대로 설정하셔도 됩니다. 저는 50으로 설정했어요. 칼리리눅스와 마찬가지로 본인의 subnet address에 맞게 수정해서 추가해야 합니다. subnet address 확인하는 방법은 [Kali Linux 설치](https://printlning.github.io/docs/VM001.html)를 참고해주세요. 

<br/>
<br/>
<br/>

![](https://i.imgur.com/aZYEsUL.png)
![](https://i.imgur.com/yu6ZzHA.png)
```shell
ifconfig
ping 8.8.8.8
```
ifconfig로 IP, ping으로 네트워크 연결 상태를 확인합니다. 위와 같은 결과가 나오면 성공입니다.

## 패키지 설치, 실행
```shell
yum -y install httpd*
yum -y install vsftpd*
yum -y install sendmail*
yum -y install dovecot*
yum -y install bind*
yum -y install telnet*
```
```shell
systemctl enable --now httpd
systemctl enable --now nsftpd
systemctl enable --now named
systemctl enable --now sendmail
systemctl enable --now dovecot
systemctl enable --now telnet.socket
```

<br/>
<br/>
<br/>

## 보안 설정
실습을 위한 보안 설정을 해주겠습니다.

```shell
systemctl disable firewalld
systemctl stop firewalld
senenforce 0
```
systemctl을 이용해서 방화벽을 해제합니다.

```shell
vi /etc/selinux/config
```
![](https://i.imgur.com/mMLOnDO.png)
일곱 번째 줄을 SELINUX=disable으로 수정합니다.
